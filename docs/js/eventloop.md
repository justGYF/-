# 事件循环

任务分配 - 同步任务进入主线程执行栈，异步任务（ajax, setTimeout等）进入任务队列 - 执行栈清空 - 主线程读取任务队列进入执行栈 - 执行栈清空 - 主线程读取任务队列进入执行栈 - 任务分配（以此循环）

### Promise微任务

同步任务执行完毕，执行微任务，再执行异步任务


1. 在常见的promise相关代码中，总会创建setTimeout等异步任务，需要理清异步的创建顺序。
2. new Promise() 中的同步代码是立即执行的（属于宏任务），链式.then中的代码也是同步的（但属于微任务）

来自不同任务源的任务会进入到不同的任务队列。其中 setTimeout 与 setInterval 是同源的。